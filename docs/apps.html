<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Tercen Book</title>
  <meta name="description" content="This is a book about Tercen">
  <meta name="generator" content="bookdown 0.6 and GitBook 2.6.7">

  <meta property="og:title" content="Tercen Book" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a book about Tercen" />
  <meta name="github-repo" content="tercen/tercen-book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Tercen Book" />
  
  <meta name="twitter:description" content="This is a book about Tercen" />
  

<meta name="author" content="Tercen info">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="data-provenance.html">
<link rel="next" href="programmatic-access.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-105575395-2', 'auto');
  ga('send', 'pageview');

</script>



<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#why-read-this-book"><i class="fa fa-check"></i>Why read this book?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#structure-of-the-book"><i class="fa fa-check"></i>Structure of the book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgement"><i class="fa fa-check"></i>Acknowledgement</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#typography-conventions"><i class="fa fa-check"></i>Typography conventions</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#feedback"><i class="fa fa-check"></i>Feedback</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-authors.html"><a href="about-the-authors.html"><i class="fa fa-check"></i>About the authors</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#motivation"><i class="fa fa-check"></i>Motivation</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#challenges"><i class="fa fa-check"></i>Challenges</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#way-forward"><i class="fa fa-check"></i>Way forward</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="tercen-features.html"><a href="tercen-features.html"><i class="fa fa-check"></i><b>2</b> Tercen features</a></li>
<li class="chapter" data-level="3" data-path="concepts.html"><a href="concepts.html"><i class="fa fa-check"></i><b>3</b> Concepts</a><ul>
<li class="chapter" data-level="3.1" data-path="concepts.html"><a href="concepts.html#what-is-a-measurement-variable-and-observation"><i class="fa fa-check"></i><b>3.1</b> What is a measurement, variable and observation?</a></li>
<li class="chapter" data-level="3.2" data-path="concepts.html"><a href="concepts.html#what-is-a-step-app-and-workflow"><i class="fa fa-check"></i><b>3.2</b> What is a step, app and workflow?</a></li>
<li class="chapter" data-level="3.3" data-path="concepts.html"><a href="concepts.html#what-is-visual-computation"><i class="fa fa-check"></i><b>3.3</b> What is visual computation?</a></li>
<li class="chapter" data-level="3.4" data-path="concepts.html"><a href="concepts.html#what-is-an-universal-table-and-relatonal-algebra"><i class="fa fa-check"></i><b>3.4</b> What is an universal table and <strong>relatonal algebra</strong>?</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="visualization.html"><a href="visualization.html"><i class="fa fa-check"></i><b>4</b> Visualization</a><ul>
<li class="chapter" data-level="4.1" data-path="visualization.html"><a href="visualization.html#cross-tab-window"><i class="fa fa-check"></i><b>4.1</b> Cross-tab window</a></li>
<li class="chapter" data-level="4.2" data-path="visualization.html"><a href="visualization.html#layers"><i class="fa fa-check"></i><b>4.2</b> Layers</a></li>
<li class="chapter" data-level="4.3" data-path="visualization.html"><a href="visualization.html#filters"><i class="fa fa-check"></i><b>4.3</b> Filters</a></li>
<li class="chapter" data-level="4.4" data-path="visualization.html"><a href="visualization.html#multi-pairwise"><i class="fa fa-check"></i><b>4.4</b> Multi-pairwise</a></li>
<li class="chapter" data-level="4.5" data-path="visualization.html"><a href="visualization.html#examples"><i class="fa fa-check"></i><b>4.5</b> Examples</a></li>
<li class="chapter" data-level="4.6" data-path="visualization.html"><a href="visualization.html#interacting-with-the-cross-tab"><i class="fa fa-check"></i><b>4.6</b> Interacting with the cross-tab</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="visual-computation.html"><a href="visual-computation.html"><i class="fa fa-check"></i><b>5</b> Visual computation</a></li>
<li class="chapter" data-level="6" data-path="workflow-and-steps.html"><a href="workflow-and-steps.html"><i class="fa fa-check"></i><b>6</b> Workflow and Steps</a></li>
<li class="chapter" data-level="7" data-path="external-databases.html"><a href="external-databases.html"><i class="fa fa-check"></i><b>7</b> External databases</a></li>
<li class="chapter" data-level="8" data-path="sharing-analysis.html"><a href="sharing-analysis.html"><i class="fa fa-check"></i><b>8</b> Sharing analysis</a></li>
<li class="chapter" data-level="9" data-path="sharing-data.html"><a href="sharing-data.html"><i class="fa fa-check"></i><b>9</b> Sharing data</a></li>
<li class="chapter" data-level="10" data-path="results-reporting.html"><a href="results-reporting.html"><i class="fa fa-check"></i><b>10</b> Results reporting</a></li>
<li class="chapter" data-level="11" data-path="projects.html"><a href="projects.html"><i class="fa fa-check"></i><b>11</b> Team Projects</a></li>
<li class="chapter" data-level="12" data-path="data-provenance.html"><a href="data-provenance.html"><i class="fa fa-check"></i><b>12</b> Data provenance</a></li>
<li class="chapter" data-level="13" data-path="apps.html"><a href="apps.html"><i class="fa fa-check"></i><b>13</b> Apps (i.e. plug-ins)</a><ul>
<li class="chapter" data-level="" data-path="apps.html"><a href="apps.html#app-libraries"><i class="fa fa-check"></i>App libraries</a></li>
<li class="chapter" data-level="" data-path="apps.html"><a href="apps.html#installing-apps"><i class="fa fa-check"></i>Installing apps</a></li>
<li class="chapter" data-level="" data-path="apps.html"><a href="apps.html#structure-of-an-operator-app"><i class="fa fa-check"></i>Structure of an operator app</a></li>
<li class="chapter" data-level="" data-path="apps.html"><a href="apps.html#tercen-r-package"><i class="fa fa-check"></i>Tercen R package</a></li>
<li class="chapter" data-level="" data-path="apps.html"><a href="apps.html#creating-an-operator-app"><i class="fa fa-check"></i>Creating an operator app</a></li>
<li class="chapter" data-level="" data-path="apps.html"><a href="apps.html#creating-a-step-app"><i class="fa fa-check"></i>Creating a step app</a></li>
<li class="chapter" data-level="" data-path="apps.html"><a href="apps.html#creating-a-workflow-app"><i class="fa fa-check"></i>Creating a workflow app</a></li>
<li class="chapter" data-level="" data-path="apps.html"><a href="apps.html#app-examples"><i class="fa fa-check"></i>App examples</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="programmatic-access.html"><a href="programmatic-access.html"><i class="fa fa-check"></i><b>14</b> Programmatic access</a></li>
<li class="chapter" data-level="15" data-path="deployment.html"><a href="deployment.html"><i class="fa fa-check"></i><b>15</b> Deployment</a><ul>
<li class="chapter" data-level="15.1" data-path="deployment.html"><a href="deployment.html#cloud"><i class="fa fa-check"></i><b>15.1</b> Cloud</a></li>
<li class="chapter" data-level="15.2" data-path="deployment.html"><a href="deployment.html#on-site"><i class="fa fa-check"></i><b>15.2</b> On-site</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="server.html"><a href="server.html"><i class="fa fa-check"></i><b>16</b> Running a server</a><ul>
<li class="chapter" data-level="" data-path="server.html"><a href="server.html#server-resources"><i class="fa fa-check"></i>Server resources</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>17</b> Getting started</a></li>
<li class="chapter" data-level="18" data-path="known-issues.html"><a href="known-issues.html"><i class="fa fa-check"></i><b>18</b> Known issues</a></li>
<li class="chapter" data-level="19" data-path="roadmap.html"><a href="roadmap.html"><i class="fa fa-check"></i><b>19</b> Roadmap</a></li>
<li class="chapter" data-level="20" data-path="glossary.html"><a href="glossary.html"><i class="fa fa-check"></i><b>20</b> Glossary</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Tercen Book</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="apps" class="section level1">
<h1><span class="header-section-number">Chapter 13</span> Apps (i.e. plug-ins)</h1>
<p>Lets say a researcher begins a brand new research project and requires to analyze many RNAseq measurements. The researcher opens Tercen and proceeds to browse the Tercen library for a relevant workflow and eventually discovers a workflow app called “RNAseq” and installs it and voilà the research can begin. This is the concept of an <strong>app</strong>. An <strong>app</strong> is a sort of plug-in, just like i-phone apps.</p>
<p>There are currently three types of apps: <strong>workflows</strong> (e.g. RNAseq), <strong>workflow apps</strong> (e.g. two group comparison, PCA), and <strong>operators</strong> (e.g. mean, PCA, t-test). Each <strong>app</strong> has an <strong>app version</strong> and is located in an <strong>app library</strong>.</p>
<p>The three types of <strong>apps</strong> including some examples are:</p>
<p>An app <strong>workflow</strong> is a type of template data analysis pipeline and it allows a researcher to start a complete standard analysis defined by the template (e.g. a RNAseq workflow, or a bioconductor workflow). The researcher would install a RNAseq workflow app from the Tercen library.</p>
<p>An app <strong>workflow app</strong> is a mini workflow and allows a researcher to perform a set of computations and/or visualizations e.g. the researcher requires to perform a PCA including some automated visuals of the results. The researcher would install a PCA step app from the Tercen library.</p>
<p>An app <strong>operator</strong> performs a computation on the projection views in the cross-tab window (e.g. a PCA function) e.g. the researcher requires to perform a simple PCA without any automated visuals. The researcher would install a PCA operator app from the Tercen library.</p>
<p>Typically a there is a hierarchy of apps where a <strong>workflow</strong> contains <strong>workflow apps</strong> and a <strong>workflow app</strong> contains <strong>operators</strong>.</p>
<p>As an example, think of an RNAseq app <strong>workflow</strong> in which there is a PCA <strong>workflow app</strong> and this in turn contains a PCA <strong>operator</strong>.</p>
<div id="app-libraries" class="section level2 unnumbered">
<h2>App libraries</h2>
<p>There is more than one app library. However the main publicly available library is called the <strong>Tercen app library</strong>. The other app libraries have different location and permission levels.</p>
<table>
<thead>
<tr class="header">
<th align="left">Library</th>
<th align="left">Location</th>
<th align="left">Permission level</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Tercen app library</td>
<td align="left">tercen github</td>
<td align="left">Public</td>
</tr>
<tr class="even">
<td align="left">Site app library</td>
<td align="left">tercen server</td>
<td align="left">Site only</td>
</tr>
<tr class="odd">
<td align="left">My app library</td>
<td align="left">tercen team area</td>
<td align="left">Team only</td>
</tr>
</tbody>
</table>
<p>A <strong>site</strong> is a Tercen server installed on a machine at an installation site.</p>
<p>A library consists of a set of <strong>apps</strong> and their <strong>versions</strong>.</p>
<p><strong>Tercen app library:</strong></p>
<p>All public Tercen operators and apps are on a tercen github.</p>
<p>The contents of the public Tercen app library are found in a json file in <a href="https://github.com/tercen/app-library">github app library</a></p>
<p>The public operators and apps are also found on the Tercen area, see (<a href="https://github.com/tercen" class="uri">https://github.com/tercen</a>)</p>
</div>
<div id="installing-apps" class="section level2 unnumbered">
<h2>Installing apps</h2>
<p>A researcher installs an app by sourcing it from any of the libraries (tercen app library, site library, my library) or from a git repository.</p>
</div>
<div id="structure-of-an-operator-app" class="section level2 unnumbered">
<h2>Structure of an operator app</h2>
<p>A Tercen operator is composed of three main activities:</p>
<ul>
<li>Getting the data</li>
<li>Operating on the data</li>
<li>Returning the results</li>
</ul>
<p>A Tercen operator requires a Tercen <strong>data step</strong> in order to work. The operator is defined in a <strong>data step</strong> and the <strong>data step</strong> contains all that is necessary for the operator, namely structure data. The structure of the data becomes clear when you explore the table data structure of a <strong>data step</strong>. Go ahead and open a <strong>data step</strong> and you will notice three vertical tabs on the left of the window. The first tab is the default view is called the <strong>cross tab</strong> view. The other two are associated with data tables. For each <strong>data step</strong> there are two tables tabs:</p>
<ul>
<li><strong>Tables tab</strong> (i.e. the data input to the operator)</li>
<li><strong>Computed tables tab</strong> (i.e. the data output of the operator)</li>
</ul>
<p>Note: the <strong>Computed tables tab</strong> only appears when the data step has been computed (i.e. the <strong>data step</strong> has a green executed status)</p>
<p>Each table contains data as a result of the definition of the cross-tab view.</p>
<p>The <strong>Tables tab</strong> contain the following three tables:</p>
<ul>
<li><strong>Main table</strong></li>
<li><strong>Row table</strong></li>
<li><strong>Col table</strong></li>
</ul>
<p>The <strong>Main table</strong> contains the data to be used to compute. It is described using standard system names, usually beginning with a dot <code>.</code>, examples are <code>.ri</code> row index of data, represented by an integer</p>
<p><code>.ci</code> col index of data, represented by an integer</p>
<p>The <strong>Computed tables</strong> only appears when the data step is computed. It contains the following the results of the computation.</p>
<p>If you are familiar with reading code then take some time to look at the operator code on the public tercen github. It gives a good outline on how operators are structured. Look at the file called <code>main.R</code> file. This is the key code for performing the operator.</p>
</div>
<div id="tercen-r-package" class="section level2 unnumbered">
<h2>Tercen R package</h2>
<p>There is currently an R package in the tercen repository to help in creating operators called <a href="https://github.com/tercen/teRcen">teRcen</a></p>
</div>
<div id="creating-an-operator-app" class="section level2 unnumbered">
<h2>Creating an operator app</h2>
<p>Tercen allows programmers to easily build new operators from the comfort of their favorite interactive development environment (IDE). From the IDE it is possible to access all Tercen features. Access the input data and returning results is essential when developing your <strong>operator app</strong> in the IDE on your local machine.</p>
<p>The ability to create a new Tercen operator requires basic programming skills and is straight forward.</p>
<p>Here is a development process to create an <strong>operator app</strong>:</p>
<p><strong>Getting setup</strong>:</p>
<ul>
<li>Install R</li>
<li>Install R Studio</li>
<li>Install the <a href="https://github.com/tercen/teRcen">teRcen R package</a></li>
<li>Open R Studio and create an empty project and init the git</li>
<li>Copy four files into project, you can find them in any operator in tercen github.
<ul>
<li><code>operator.json</code></li>
<li><code>main.R</code></li>
<li><code>README.md</code></li>
<li><code>.gitignore</code></li>
</ul></li>
<li>Modify appropriately each of the files</li>
<li>Create the <code>workspace.R</code> file by:
<ul>
<li>Copy <code>main.R</code> and rename to <code>workspace.R</code> file</li>
<li><p>Add the following lines to <code>workspace.R</code> file:</p>
<pre><code>source(&#39;~/.Rprofile&#39;)
options(&quot;tercen.workflowId&quot;= &quot;76a4dcffd551802fd23d42bd862e8300&quot;)
options(&quot;tercen.stepId&quot;= &quot;3-2&quot;)</code></pre>
<p>The values indicated above are examples. The real values come from the next section.</p></li>
</ul></li>
</ul>
<p><strong>Writing and testing the operator app</strong>:</p>
<ul>
<li>Develop and test the <strong>operator app</strong> within the <code>workspace.R</code> file</li>
<li>Determine the input data for the <strong>operator app</strong>
<ul>
<li>Start Tercen</li>
<li>Use the browser to go to <a href="http://127.0.0.1:5400" class="uri">http://127.0.0.1:5400</a></li>
<li>Login</li>
<li>Go to the workflow which contains the data</li>
<li>Add a <strong>data step</strong></li>
<li>Configure a project view in cross-tab window of the <strong>data step</strong></li>
<li>Record the <strong>stepId</strong> and <strong>workflowId</strong> of this <strong>data step</strong></li>
<li>Get data using the tercen api <code>tercen::ctx$select</code></li>
<li>Execute the <strong>operator app</strong> locally</li>
<li>Push results back to Tercen using the tercen API <code>tercen::ctx$save</code></li>
</ul></li>
</ul>
<p>The actions above may happen multiple times as you develop your operator. Once the <strong>operator app</strong> is finalized then proceed:</p>
<p><strong>Deploy the operator</strong>:</p>
<ul>
<li>Modify <code>workshop.R</code> and copy it to <code>main.R</code></li>
<li>Run <code>packrat::init</code> This can always re-init packrat by performing the following
<ul>
<li>Remove the <code>packrat</code> folder in the Rstudio project folder</li>
<li>Remove the <code>.Rprofile</code> file in the project folder</li>
<li>Run <code>packrat::init</code> again</li>
</ul></li>
<li>upload to github in a public repository, let call it the operator git repo.</li>
</ul>
<p>You can now install your <strong>operator</strong> into your Tercen server via the github install menu from the <strong>site library</strong> or any <strong>project library</strong> If you want it available to the Tercen community send an email to Tercen. Tercen administrator makes it available by modify app library on tercen github.</p>
<p><strong>Content of <code>.Rprofile:</code> file in your home directory</strong></p>
<pre><code>options(&quot;tercen.serviceUri&quot;=&quot;http://127.0.0.1:5400/api/v1/&quot;)
options(&quot;tercen.username&quot;=&quot;XXXX&quot;)
options(&quot;tercen.password&quot;=&quot;YYYY&quot;)</code></pre>
<p>where <code>XXXX</code> and <code>YYYY</code> are the appropriate username and password of the developer.</p>
</div>
<div id="creating-a-step-app" class="section level2 unnumbered">
<h2>Creating a step app</h2>
<ul>
<li>Make a workflow first</li>
<li>Save the workflow</li>
<li>Set the property of the workflow to “step”</li>
<li>Download the zip of the <strong>step app</strong></li>
<li>Unzip the folder</li>
<li>Add <code>README.md</code> file</li>
<li>Add <code>.gitignore</code> file</li>
<li>Create a git repository for the new <strong>step app</strong></li>
<li>Upload the files to the new <strong>step app</strong> git repository</li>
</ul>
</div>
<div id="creating-a-workflow-app" class="section level2 unnumbered">
<h2>Creating a workflow app</h2>
<ul>
<li>Make a workflow first</li>
<li>Save the workflow</li>
<li>Set the property of the workflow to “workflow”</li>
<li>Download the zip of the <strong>workflow app</strong></li>
<li>Unzip the folder</li>
<li>Add <code>README.md</code> file</li>
<li>Add <code>.gitignore</code> file</li>
<li>Create a git repository for the new <strong>workflow app</strong> git repository</li>
<li>Upload the files to the new <strong>workflow app</strong> git repository</li>
</ul>
</div>
<div id="app-examples" class="section level2 unnumbered">
<h2>App examples</h2>
<p><strong>Operator app examples:</strong></p>
<p>An <strong>operator app</strong> which performs computation follows either one of the following computing pattern :</p>
<ul>
<li>per row</li>
<li>per col</li>
<li>per row and per col (i.e. per cell)</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-provenance.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="programmatic-access.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
